<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Record Rules (loaded after ir.model.access.csv) -->
    
    <!-- API Log: Users see only their own logs -->
    <record id="ringcentral_api_log_user_rule" model="ir.rule">
        <field name="name">RingCentral API Log: User sees own</field>
        <field name="model_id" ref="model_ringcentral_api_log"/>
        <field name="domain_force">[('user_id', '=', user.id)]</field>
        <field name="groups" eval="[(4, ref('group_ringcentral_user'))]"/>
        <field name="perm_read" eval="True"/>
        <field name="perm_write" eval="False"/>
        <field name="perm_create" eval="False"/>
        <field name="perm_unlink" eval="False"/>
    </record>
    
    <!-- API Log: Managers see all in company -->
    <record id="ringcentral_api_log_manager_rule" model="ir.rule">
        <field name="name">RingCentral API Log: Manager sees company</field>
        <field name="model_id" ref="model_ringcentral_api_log"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
        <field name="groups" eval="[(4, ref('group_ringcentral_manager'))]"/>
    </record>
    
    <!-- Multi-company rule for API logs -->
    <record id="ringcentral_api_log_company_rule" model="ir.rule">
        <field name="name">RingCentral API Log: Multi-company</field>
        <field name="model_id" ref="model_ringcentral_api_log"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
    </record>
    
</odoo>
